{"version":3,"file":"yonder.min.js","sources":["../../src/js/yonder-input-binding.js","../../src/js/input-binding-button-group.js","../../src/js/input-binding-button.js","../../src/js/input-binding-checkbar.js","../../src/js/input-binding-checkbox.js","../../src/js/input-binding-date.js","../../src/js/input-binding-file.js","../../src/js/input-binding-form.js","../../src/js/input-binding-group-input.js","../../src/js/input-binding-link.js","../../src/js/input-binding-list-group.js","../../src/js/input-binding-menu.js","../../src/js/input-binding-nav.js","../../src/js/input-binding-radio.js","../../src/js/input-binding-radiobar.js","../../src/js/input-binding-range.js","../../src/js/input-binding-select.js","../../src/js/input-binding-textual.js","../../src/js/output-binding-badge.js","../../src/js/output-binding-progress.js","../../src/js/thruput-binding-table.js","../../src/js/alert.js","../../src/js/collapsible.js","../../src/js/element.js","../../src/js/modal.js","../../src/js/yonder.js"],"sourcesContent":["export function yonderInputBinding() {\n  this.Selector = {};\n  this.Events = [];\n\n  this.find = function(scope) {\n    return scope.querySelectorAll(`${ this.Selector.SELF }[id]`);\n  };\n\n  this.getId = function(el) {\n    return el.id;\n  };\n\n  this.getType = function(el) {\n    return this.Type || false;\n  };\n\n  this.getValue = function(el) {\n    if (!this.Selector.hasOwnProperty(\"SELECTED\")) {\n      return null;\n    }\n\n    let selected = Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED));\n\n    if (!selected.length) {\n      return null;\n    }\n\n    return selected.map(s => s.getAttribute(\"data-value\") || s.value || null);\n  };\n\n  this.getState = function(el, data) {\n    return { value: this.getValue(el) };\n  };\n\n  this.attachHandler = function(el, type, selector, handler, callback, debounce) {\n    $(el).on(`${ type }.yonder`, (selector || null), (e) => {\n      if (handler) {\n        let result = handler(el, selector && e.target || undefined, this);\n\n        if (result === false) {\n          e.preventDefault();\n          return;\n        }\n      }\n\n      if (callback) {\n        callback(debounce || false);\n      }\n    });\n  };\n\n  this.subscribe = function(el, callback) {\n    let $el = $(el);\n\n    let formElement = false;\n    if ($el.parent().closest(\".yonder-form[id]\").length) {\n      $el.on(\"submission.yonder\", e => callback());\n      formElement = true;\n    }\n\n    this.Events.forEach(event => {\n      this.attachHandler(\n        el,\n        event.type, event.selector, event.callback,\n        formElement ? null : callback, event.debounce\n      );\n    });\n  };\n\n  this.unsubscribe = function(el) {\n    $(el).off(\"yonder\");\n  };\n\n  this._update = (el, data) => {\n    console.warn(\"no _update method\");\n  };\n\n  this._enable = (el, data) => {\n    console.warn(\"no _enable method\");\n  };\n\n  this._disable = (el, data) => {\n    console.warn(\"no _disable method\");\n  };\n\n  this._invalidate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support invalidation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-valid\");\n    input.classList.add(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = data.message;\n    }\n  };\n\n  this._validate = function(el, data) {\n    if (!this.Selector.hasOwnProperty(\"VALIDATE\")) {\n      console.warn(\"input does not support validation\");\n      return;\n    }\n\n    let input = el.querySelector(this.Selector.VALIDATE);\n\n    input.classList.remove(\"is-invalid\");\n\n    let feedback = el.querySelector(\".invalid-feedback\");\n    if (feedback !== null) {\n      feedback.innerHTML = \"\";\n    }\n  };\n\n  this.receiveMessage = function(el, msg) {\n    if (!msg.type || msg.data === undefined) {\n      return false;\n    }\n\n    let [action, type = null] = msg.type.split(\":\");\n\n    switch (action) {\n    case \"update\":\n      let choices = msg.data.choices;\n      let values = msg.data.values;\n      let selected = msg.data.selected;\n\n      if (!choices && values && this.Selector.CHOICE) {\n        choices = Array.prototype.slice.call(\n          el.querySelectorAll(this.Selector.CHOICE),\n          0,\n          values.length\n        );\n      } else if (choices && !values && this.Selector.VALUE) {\n        values = Array.prototype.slice.call(\n          el.querySelectorAll(this.Selector.VALUE),\n          0,\n          choices.length\n        );\n      }\n\n      let data = { choices: choices, values: values, selected: selected };\n\n      this._update(el, data);\n\n      break;\n\n    case \"enable\":\n      this._enable(el, msg.data);\n      break;\n\n    case \"disable\":\n      this._disable(el, msg.data);\n      break;\n\n    case \"invalidate\":\n      this._invalidate(el, msg.data);\n      break;\n\n    case \"validate\":\n      this._validate(el, msg.data);\n      break;\n    }\n\n    return false;\n  };\n}\n\nif (Shiny) {\n  yonderInputBinding.call(Shiny.InputBinding.prototype);\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  Selector: {\n    \"SELF\": \".yonder-button-group\",\n    \"CHOICE\": \".btn\",\n    \"VALUE\": \".btn\"\n  },\n  Events: [\n    {\n      \"type\": \"click\",\n      \"selector\": \"button\",\n      \"callback\": (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  getType: (el) => \"yonder.buttonGroup\",\n  getValue: function(el) {\n    return { \"force\": Date.now(), \"value\": this._VALUES[el.id] };\n  },\n  _update: (el, data) => {\n    if (data.choices) {\n      let children = document.querySelectorAll(\".btn\");\n\n      children.forEach((child, i) => {\n        child.innerHTML = data.choices[i];\n        child.setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    // can't \"select\"\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHILD);\n\n    children.forEach(child => {\n      let value = child.querySelector(this.Selector.VALUE).getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        child.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        child.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  Selector: {\n    SELF: \".yonder-button\"\n  },\n  Events: [\n    { \"type\": \"click\", callback: el => el.value = +el.value + 1 }\n  ],\n  Type: \"yonder.button\",\n  initialize: function(el) {\n    el.value = 0;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: el.value };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.innerHTML = data.choices[0];\n\n      if (data.values[0] === 0) {\n        el.value = 0;\n      } else {\n        el.value = +data.values[0] || el.value;\n      }\n    }\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbar\",\n    CHOICE: \".btn span\",\n    VALUE: \".btn input\",\n    SELECTED: \"input:checked\"\n  },\n  Events: [\n    { type: \"change\", selector: \".btn\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      let children = el.querySelectorAll(\".btn\");\n\n      children.forEach((child, i) => {\n        child.querySelector(\"span\").innerHTML = data.choices[i];\n        child.querySelector(\"input\").setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    if (data.selected) {\n      el.querySelectorAll(\".active\")\n        .forEach(child => child.classList.remove(\"active\"));\n\n      data.selected\n        .map(s => el.querySelector(`label[data-value=\"${ s }\"]`))\n        .filter(child => child !== null)\n        .forEach(child => child.classList.add(\"active\"));\n    }\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  Selector: {\n    SELF: \".yonder-checkbox\",\n    CHOICE: \".custom-checkbox .custom-control-label\",\n    VALUE: \".custom-checkbox .custom-control-input\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\".custom-control-input:checked:not(:disabled)\");\n\n    return null && input.getAttribute(\"data-value\");\n  },\n  getState: function(el, data) {\n    return {\n      label: el.querySelector(this.Selector.CHOICE).innerHTML,\n      value: this.getValue(el)\n    };\n  },\n  _update: function(el, data) {\n    if (data.choices) {\n      el.querySelector(this.Selector.CHOICE).innerHTML = data.choices[0];\n      el.querySelector(this.Selector.VALUE).setAttribute(\"data-value\", data.values[0]);\n    }\n\n    if (data.selected) {\n      let target = el.querySelector(this.Selector.VALUE);\n      target.removeAttribute(\"checked\");\n\n      let value = target.getAttribute(\"data-value\");\n      if (value === target.value) {\n        target.setAttribute(\"checked\", \"\");\n      }\n    }\n  },\n  _enable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(this.Selector.VALUE).setAttribute(\"disabled\", \"\");\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let dateInputBinding = new Shiny.InputBinding();\n\n$.extend(dateInputBinding, {\n  Selector: {\n    SELF: \".yonder-date\"\n  },\n  Events: [\n    { type: \"dateinput:close\" }\n  ],\n  Type: \"yonder.date\",\n  initialize: function(el) {\n    let data = $(el).data();\n    let config = {\n      onClose: (selected, str, inst) => $(el).trigger(\"dateinput:close\")\n    };\n\n    if (data.mode === \"multiple\" && data.altFormat === \"alt-format\") {\n      config.altFormat = \"M j, Y\";\n      config.conjunction = \"; \";\n    }\n\n    if (data.defaultDate && (data.mode === \"range\" || data.mode === \"multiple\")) {\n      config.defaultDate = data.defaultDate.split(\"\\\\,\");\n      el.removeAttribute(\"data-default-date\");\n    }\n\n    if (data.enable) {\n      config.enable = data.enable.split(\"\\\\,\");\n      el.removeAttribute(\"data-enable\");\n    }\n\n    flatpickr(el, config);\n  },\n  getValue: (el) => el._flatpickr.selectedDates,\n  _update: function(el, data) {\n    if (data.selected) {\n      el._flatpickr.setDate(data.selected, true);\n    }\n  },\n  _enable: function(el, data) {\n    el._flatpickr.set(\"enable\", data.values);\n  },\n  _disable: function(el, data) {\n    el._flatpickr.set(\"disable\", data.values);\n  }\n});\n\nShiny.inputBindings.register(dateInputBinding, \"yonder.dateInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  Selector: {\n    SELF: \".yonder-file[id]\",\n    VALIDATE: \"input[type='file']\"\n  },\n  getValue: el => null,\n  _enable: function(el, data) {\n    el.querySelector(\"input[type='file']\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input[type='file']\").setAttribute(\"disabled\", \"\");\n  },\n  _sendFile: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            let $input = $(el).find(\"input[type='file']\");\n            $input.val(\"\");\n            $input.text(\"Choose file\");\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _doUpload: function(el, files) {\n    if (!files) {\n      return;\n    }\n\n    let info = Array.prototype.map.call(files, (f) => {\n      return { \"name\": f.name, \"size\": f.size, \"type\": f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._sendFile(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  },\n  subscribe: function(el, callback) {\n    let $el = $(el);\n    let input = el.querySelector(\"input[type='file']\");\n\n    $el.on(\"click.yonder\", \".input-group-prepend, .input-group-append\", (e) => {\n      input.click();\n    });\n\n    if (el.querySelector(\"button\") !== null) {\n      $el.on(\"click.yonder\", \"button\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    } else {\n      $el.on(\"change.yonder\", (e) => {\n        this._doUpload(el, input.files);\n      });\n    }\n\n    $el.on(\"dragover.yonder\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragenter.yonder\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop.yonder\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (input.hasAttribute(\"multiple\")) {\n        this._doUpload(el, e.originalEvent.dataTransfer.files);\n      } else {\n        this._doUpload(el, e.originalEvent.dataTransfer.files[0]);\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  Events: [\n    {\n      type: \"click\",\n      selector: \".yonder-submit\",\n      callback: (el, target, self) => {\n        self._VALUES[el.id] = target.value;\n        $(el.querySelectorAll(\".shiny-bound-input\")).trigger(\"submission.yonder\");\n      }\n    }\n  ],\n  Type: \"yonder.form\",\n  _VALUES: {},\n  find: function(scope) {\n    let forms = Array.prototype.slice.call(scope.querySelectorAll(\".yonder-form[id]\"));\n\n    return forms.filter(f => f.querySelector(\".yonder-submit\") !== null);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let groupInputBinding = new Shiny.InputBinding();\n\n$.extend(groupInputBinding, {\n  Selector: {\n    SELF: \".yonder-group[id]\",\n    VALUE: \"input\",\n    SELECTED: \".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\",\n  },\n  Events: [\n    { type: \"input\", debounce: true },\n    { type: \"change\", debounce: true }\n  ],\n  Type: \"yonder.group\",\n  getValue: function(el) {\n    return Array.prototype.slice.call(el.querySelectorAll(this.Selector.SELECTED))\n      .map(s => /^(DIV|SPAN)$/.test(s.tagName) ? s.innerText : (s.value || null))\n      .filter(value => value !== null);\n  },\n  _update: function(el, data) {\n    if (data.values) {\n      let input = el.querySelector(\"input\");\n      input.value = data.values[0];\n    }\n  },\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  },\n  _validate: function(el, data) {\n    el.querySelector(\"input\").classList.remove(\"is-invalid\");\n  },\n  _invalidate: function(el, data) {\n    el.querySelector(\"input\").classList.add(\"is-invalid\");\n  }\n});\n\nShiny.inputBindings.register(groupInputBinding, \"yonder.groupInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  Selector: {\n    SELF: \".yonder-link[id]\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      callback: (el) => el.value = +el.value + 1\n    }\n  ],\n  Type: \"yonder.link\",\n  initialize: function(el) {\n    el.value = 0;\n  },\n  getValue: function(el) {\n    return { value: +el.value, id: el.id };\n  },\n  _update: function(el, data) {\n    if (data.choices.length) {\n      el.innerHTML = data.choices[0];\n    }\n\n    if (data.values.length) {\n      el.value = data.values[0];\n    }\n  },\n  _disable: function(el, data) {\n    el.classList.add(\"disabled\");\n    el.setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.classList.remove(\"disabled\");\n    el.removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = {\n  ...new Shiny.InputBinding(),\n  ...{\n    Selector: {\n      SELF: \".yonder-list-group\",\n      VALUE: \".list-group-item-action:not(.disabled)\",\n      SELECTED: \".list-group-item-action.active:not(.disabled)\"\n    },\n    Events: [\n      {\n        type: \"click\",\n        selector: \".list-group-item-action:not(.disabled)\",\n        callback: (el, target, self) => {\n          if (el.getAttribute(\"data-multiple\") === \"false\") {\n            el.querySelectorAll(self.Selector.VALUE).forEach(child => {\n              child.classList.remove(\"active\");\n            });\n          }\n\n          target.classList.toggle(\"active\");\n        }\n      }\n    ],\n    _update: (el, data) => {\n      let children = el.querySelectorAll(\".list-group-item\");\n\n      if (data.choices) {\n        children.forEach((child, i) => {\n          child.innerHTML = data.choices[i];\n          child.setAttribute(\"data-value\", data.values[i]);\n        });\n      }\n\n      if (data.selected) {\n        let current = el.querySelector(\".list-group-item.active\");\n        if (current !== null) {\n          current.classList.remove(\"active\");\n        }\n\n        let selected = data.selected.length ? data.selected : [data.selected];\n        children.forEach(child => {\n          if (selected.indexOf(child.getAttribute(\"data-value\")) > -1) {\n            child.classList.add(\"active\");\n          }\n        });\n      }\n    }\n  }\n};\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  Selector: {\n    SELF: \".yonder-menu\",\n    CHOICE: \".dropdown-item\",\n    VALUE: \".dropdown-item\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target, self) => self._VALUES[el.id] = target.getAttribute(\"data-value\")\n    }\n  ],\n  _VALUES: {},\n  find: function(scope) {\n    return scope.querySelectorAll(`:not(.nav) > ${ this.Selector.SELF }[id]`);\n  },\n  initialize: function(el) {\n    this._VALUES[el.id] = null;\n  },\n  getType: el => \"yonder.menu\",\n  getValue: function(el) {\n    return { force: Date.now(), value: this._VALUES[el.id] };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach((child, i) => {\n      child.innerText = data.choices[i];\n      child.setAttribute(\"data-value\", data.values[i]);\n    });\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(this.Selector.CHOICE);\n\n    children.forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  Selector: {\n    SELF: \".yonder-nav[id]\",\n    CHILD: \".nav-item\",\n    CHOICE: \".nav-link\",\n    VALUE: \".nav-link\",\n    SELECTED: \".active\"\n  },\n  Events: [\n    {\n      type: \"click\",\n      selector: \"a\",\n      callback: el => false\n    },\n    {\n      type: \"click\",\n      selector: \".nav-link:not(.dropdown-toggle):not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n        target.classList.add(\"active\");\n      }\n    },\n    {\n      type: \"click\",\n      selector: \".dropdown-item:not(.disabled)\",\n      callback: (el, target) => {\n        el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n        target.parentNode.parentNode.firstElementChild.classList.add(\"active\");\n        target.classList.add(\"active\");\n      }\n    }\n  ],\n  _disable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  },\n  _enable: function(el, data) {\n    el.querySelectorAll(\"[data-value]\").forEach(child => {\n      let value = child.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null ||\n        !pane.parentElement.classList.contains(\"tab-content\")) {\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  // let _hide = function(pane) {\n  //   let current = pane.parent\n  // };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(document.getElementById(msg.data.target));\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  Selector: {\n    SELF: \".yonder-radio[id]\",\n    CHILD: \".custom-radio\",\n    VALUE: \".custom-control-input\",\n    LABEL: \".custom-control-label\",\n    SELECTED: \".custom-control-input:checked:not(:disabled)\",\n    VALIDATE: \".custom-control-input\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    VALUE: \".btn input\",\n    LABEL: \".btn > span\",\n    SELECTED: \".btn input:checked\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    if (data.choices) {\n      children.forEach((child, i) => {\n        child.querySelector(\"span\").innerHTML = data.choices[i];\n        child.querySelector(\"input\").setAttribute(\"data-value\", data.values[i]);\n      });\n    }\n\n    if (data.selected) {\n      el.querySelector(\".active\").classList.remove(\"active\");\n      el.querySelector(`input[data-value=${ data.selected }]`)\n        .parentNode.classList.add(\"active\");\n    }\n  },\n  _enable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  },\n  _disable: function(el, data) {\n    let children = el.querySelectorAll(\".btn\");\n\n    children.forEach(child => {\n      let input = child.querySelector(\"input\");\n      let value = input.getAttribute(\"data-value\");\n      let index = data.values ? data.values.indexOf(value) : 0;\n\n      if ((index > -1) === !data.invert) {\n        child.classList.add(\"disabled\");\n        input.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        child.classList.remove(\"disabled\");\n        input.removeAttribute(\"disabled\");\n      }\n    });\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  Selector: {\n    SELF: \".yonder-range[id]\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  initialize: (el) => {\n    let $el = $(el);\n    let $input = $el.find(\"input[type='text']\");\n\n    $input.ionRangeSlider();\n\n    let bgclasses = $el.attr(\"class\")\n        .split(/\\s+/)\n        .filter(c => /^bg-[a-z-]+$/.test(c))\n        .join(\" \");\n\n    if (bgclasses) {\n      $el.find(\".irs-slider,.irs-bar,.irs-bar-edge,.irs-to,.irs-from,.irs-single,.irs-slider\")\n        .addClass(bgclasses);\n      $el.removeClass(bgclasses);\n    }\n\n    if ($input.data(\"no-fill\")) {\n      $el.find(\".irs-bar,.irs-bar-edge\").addClass(\"no-fill\");\n    }\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  getValue: function(el) {\n    var $input = $(\"input[type='text']\", el);\n    var data = $input.data(\"ionRangeSlider\");\n\n    if ($input.data(\"type\") == \"double\") {\n      return [data.result.from, data.result.to];\n    } else if ($input.data(\"type\") == \"single\") {\n      if (data.result.from_value !== null) {\n        return data.result.from_value.replace(\"&#44;\", \",\");\n      } else {\n        return data.result.from;\n      }\n    }\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, msg) {\n    console.error(\"receiveMessage: not implemented for range input\");\n    return;\n  },\n  dispose: function(el) {\n    var $input = $(\"input[type='text']\", el);\n\n    $input.data(\"ionRangeSlider\").destroy();\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  Selector: {\n    SELF: \".yonder-select[id]\",\n    CHILD: \"option\",\n    CHOICE: null,\n    VALUE: null,\n    SELECTED: \"option:checked:not(:disabled)\",\n    VALIDATE: \"select\"\n  },\n  Events: [\n    { type: \"change\" }\n  ],\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  _update: function(el, data) {\n    let select = el.querySelector(\"select\");\n    let options = select.querySelectorAll(\"option\");\n\n    if (!options.length) {\n      return;\n    }\n\n    let template = options[0].cloneNode();\n    template.removeAttribute(\"selected\");\n    select.innerHTML = \"\";\n\n    for (var i = 0; i < data.choices.length; i++) {\n      template.innerHTML = data.choices[i];\n      template.setAttribute(\"data-value\", data.values[i]);\n\n      select.appendChild(template.cloneNode(true));\n    }\n\n    if (data.selected) {\n      select\n        .querySelector(`option:nth-child(${ data.selected })`)\n        .setAttribute(\"selected\", \"\");\n    } else {\n      select.querySelector(\"option\").setAttribute(\"selected\", \"\");\n    }\n  },\n  _enable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  },\n  _disable: function(el, data) {\n    let options = el.querySelectorAll(\"option\");\n\n    for (const option of options) {\n      let value = option.getAttribute(\"data-value\");\n      let index = data.values.indexOf(value);\n\n      if ((index > -1) === !data.invert) {\n        option.setAttribute(\"disabled\", \"\");\n      } else if (data.reset) {\n        option.removeAttribute(\"disabled\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  Selector: {\n    SELF: \".yonder-textual[id]\",\n    VALIDATE: \"input\"\n  },\n  Events: [\n    { type: \"change\", debounce: true },\n    { type: \"input\", debounce: true }\n  ],\n  getValue: function(el) {\n    let input = el.querySelector(\"input\");\n    let value = input.value;\n\n    if (input.type === \"number\") {\n      return parseInt(value, 10);\n    }\n\n    return value;\n  },\n  getState: function(el, data) {\n    return { value: this.getValue(el) };\n  },\n  getRatePolicy: function() {\n    return {\n      policy: \"debounce\",\n      delay: 250\n    };\n  },\n  _update: function(el, data) {\n    data.values && (el.querySelector(\"input\").value = data.values[0]);\n  },\n  _disable: function(el, data) {\n    el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n  },\n  _enable: function(el, data) {\n    el.querySelector(\"input\").removeAttribute(\"disabled\");\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n","export let badgeOutputBinding = new Shiny.OutputBinding();\n\n$.extend(badgeOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-badge[id]\");\n  },\n  getId: function(el) {\n    return el.id;\n  },\n  renderValue: function(el, msg) {\n    if (msg.data !== undefined) {\n      el.innerHTML = msg.data;\n    }\n  },\n  renderError: function(el, data) {\n\n  },\n  clearError: function(el) {\n\n  }\n});\n\nShiny.outputBindings.register(badgeOutputBinding, \"yonder.badgeOutput\");\n","$.extend(Shiny.progressHandlers, {\n  \"yonder-progress\": (msg) => {\n    if (!msg.type || !msg.data.outlet) {\n      return false;\n    }\n\n    let $outlet = $(`#${ msg.data.outlet }`);\n\n    if (msg.type === \"show\") {\n      let $bar = $(msg.data.content);\n\n      if ($bar[0].id && $outlet.find(`#${ $bar[0].id }`).length) {\n        $outlet.find(`#${ $bar[0].id }`).replaceWith($bar);\n      } else {\n        $outlet.append($bar);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n});\n","export let tableInputBinding = new Shiny.InputBinding();\n\n$.extend(tableInputBinding, {\n  Selector: {\n    SELF: \".yonder-table[id]\"\n  },\n  Type: \"yonder.table\",\n  Events: [\n    { type: \"chabudai:select\" },\n    { type: \"chabudai:edited\" }\n  ],\n  getValue: function(el) {\n    return JSON.stringify($(el).table(\"selected\"));\n  },\n  receiveMessage: function(el, msg) {\n    return;\n  }\n});\n\nexport let tableOutputBinding = new Shiny.OutputBinding();\n\n$.extend(tableOutputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".yonder-table[id]\");\n  },\n  renderValue: function(el, msg) {\n    if (msg.data) {\n      $(el).table({ \"data\": msg.data });\n    }\n  }\n});\n\nShiny.inputBindings.register(tableInputBinding, \"yonder.tableInput\");\nShiny.outputBindings.register(tableOutputBinding, \"yonder.tableOutput\");\n","export let alertInputBinding = new Shiny.InputBinding();\n\n$(() => {\n  $(document.body).append(\n    $(\"<div class='yonder-alert-container' id='alert-container'></div>\")\n  );\n});\n\n$.extend(alertInputBinding, {\n  Selector: {\n    SELF: \".yonder-alert-container\"\n  },\n  Alerts: [],\n  getValue: function(el) {\n    return null;\n  },\n  receiveMessage: function(el, msg) {\n    if (msg.type === undefined) {\n      return;\n    }\n\n    if (msg.type === \"show\") {\n      let data = msg.data;\n\n      let $alert = $(data.content);\n\n      if (data.action) {\n        $alert.append($(`<button class=\"btn btn-link alert-link alert-action\">${ data.action }</button>`));\n        $alert.on(\"click\", \".alert-action\", (e) => {\n          Shiny.onInputChange(data.action, true);\n        });\n      }\n\n      this.Alerts.push({ el: $alert, action: data.action });\n\n      $alert.appendTo($(this.Selector.SELF))\n        .velocity(\n          { top: 0, opacity: 1 },\n          { duration: 300, easing: \"easeOutCubic\", queue: false }\n        );\n\n      if (data.duration !== null) {\n        setTimeout(\n          () => {\n            if (this.Alerts.length === 0) {\n              return;\n            }\n\n            let item = this.Alerts.shift();\n\n            if (item.action) {\n              Shiny.onInputChange(item.action, null);\n            }\n\n            item.el.remove();\n          },\n          data.duration\n        );\n      }\n\n      return;\n    }\n\n    if (msg.type === \"close\") {\n      if (this.Alerts.length === 0) {\n        return;\n      }\n\n      let data = msg.data;\n\n      let indeces = typeof data.index === \"number\" ? [data.index] : data.index;\n      let text = typeof data.text === \"string\" ? [data.text] : data.text;\n\n      let selector = Object.entries(data.attrs)\n          .map(item => {\n            return `[${ item[0] }${ item[1] ? (item[0] === \"class\" ? \"*=\" : \"=\") + item[1] : \"\" }]`;\n          })\n          .join(\"\");\n\n      this.Alerts = this.Alerts.filter((alert, index) => {\n        let $el = $(alert.el);\n\n        if (indeces.includes(index) || text.includes($el.text()) || $el.is(selector)) {\n          if (alert.action) {\n            Shiny.onInputChange(alert.action, null);\n          }\n\n          $el.remove();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(alertInputBinding, \"yonder.alertInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:element\", (msg) => {\n  let _render = (data) => {\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    container.innerHTML = data.content;\n\n    Shiny.initializeInputs(container);\n    Shiny.bindAll(container);\n  };\n\n  let _remove = (data) => {\n    let container = document.getElementById(data.target);\n\n    if (container === null) {\n      return;\n    }\n\n    Shiny.unbindAll(container);\n\n    container.innerHTML = \"\";\n  };\n\n  console.log(msg);\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"render\") {\n    _render(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no element method _${ msg.type }`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"close\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal === null) {\n      return false;\n    }\n\n    Shiny.unbindAll(modal);\n\n    $(modal).modal(\"hide\");\n\n    return true;\n  }\n\n  if (msg.type === \"show\") {\n    let modal = document.body.querySelector(\".modal\");\n\n    if (modal !== null) {\n      modal.innerHTML = msg.data.content;\n    } else {\n      $(document.body).append(\n        $(`<div class=\"modal fade\" tabindex=-1 role=\"dialog\">${ msg.data.content }</div>`)\n      );\n      modal = document.body.querySelector(\".modal\");\n    }\n\n    if (msg.data.dependencies !== undefined) {\n      Shiny.renderDependencies(msg.data.dependencies);\n    }\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    $(modal).modal(\"show\");\n\n    return true;\n  }\n\n  return false;\n});\n","import \"./yonder-input-binding.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-date.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-group-input.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./output-binding-badge.js\";\nimport \"./output-binding-progress.js\";\n\nimport \"./thruput-binding-table.js\";\n\nimport \"./alert.js\";\nimport \"./collapsible.js\";\nimport \"./element.js\";\nimport \"./modal.js\";\n\n$(() => {\n  $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\n  $(\"[data-toggle=\\\"popover\\\"]\").popover();\n\n  $(document).on(\"shiny:connected\", function() {\n    $(\".yonder-submit[data-type=\\\"submit\\\"]\").attr(\"type\", \"submit\");\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n    if (msg.data.target === undefined) {\n      return;\n    }\n\n    if (msg.type == \"show\") {\n      let data = msg.data;\n      let target = `#${ data.target }`;\n\n      $(target).popover({\n        title: () => undefined,\n        content: () => undefined,\n        template: data.content,\n        placement: data.placement,\n        trigger: \"manual\"\n      });\n\n      if (data.duration) {\n        setTimeout(\n          () => $(target).popover(\"hide\"),\n          data.duration\n        );\n      }\n\n      $(target).popover(\"show\");\n\n      return;\n    }\n\n    if (msg.type == \"close\") {\n      $(`#${ msg.data.id }`).popover(\"hide\");\n\n      return;\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"yonder:download\", function(msg) {\n    if (!(msg.filename && msg.token && msg.key)) {\n      throw \"invalid download event\";\n    }\n\n    const uri = \"/session/\" + msg.token + \"/download/\" + msg.key;\n\n    let agent = window.navigator.userAgent;\n    let ie = ua.indexOf(\"MSIE \");\n\n    if (ie > 0) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", uri);\n      xhr.responseType = \"blob\";\n      xhr.onload = () => saveAs(xhr.response, msg.filename);\n      xhr.send();\n    } else {\n      fetch(uri)\n        .then(res => res.blob())\n        .then(blob => {\n          saveAs(blob, msg.filename);\n        });\n    }\n  });\n\n});\n"],"names":["yonderInputBinding","Selector","Events","find","scope","querySelectorAll","SELF","getId","el","id","getType","Type","getValue","hasOwnProperty","selected","Array","prototype","slice","call","SELECTED","length","map","s","getAttribute","value","getState","data","attachHandler","type","selector","handler","callback","debounce","$","on","e","result","target","undefined","preventDefault","subscribe","$el","formElement","parent","closest","forEach","event","unsubscribe","off","_update","console","warn","_enable","_disable","_invalidate","input","querySelector","VALIDATE","classList","remove","add","feedback","innerHTML","message","_validate","receiveMessage","msg","split","action","choices","values","CHOICE","VALUE","Shiny","InputBinding","buttonGroupInputBinding","extend","self","_VALUES","Date","now","children","document","child","i","setAttribute","CHILD","index","indexOf","invert","removeAttribute","reset","inputBindings","register","buttonInputBinding","initialize","force","checkbarInputBinding","filter","checkboxInputBinding","label","dateInputBinding","config","onClose","str","inst","trigger","mode","altFormat","conjunction","defaultDate","enable","flatpickr","_flatpickr","selectedDates","setDate","set","fileInputBinding","_sendFile","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","res","$input","val","text","err","error","send","_doUpload","files","info","f","name","size","jobId","uploadUrl","click","stopPropagation","hasAttribute","originalEvent","dataTransfer","formInputBinding","forms","groupInputBinding","test","tagName","innerText","linkInputBinding","listGroupInputBinding","toggle","current","menuInputBinding","navInputBinding","a","parentNode","firstElementChild","addCustomMessageHandler","_show","pane","parentElement","contains","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","getElementById","radioInputBinding","LABEL","radiobarInputBinding","rangeInputBinding","ionRangeSlider","bgclasses","attr","c","join","addClass","removeClass","from","to","from_value","replace","dispose","destroy","selectInputBinding","select","options","template","cloneNode","appendChild","option","textualInputBinding","parseInt","getRatePolicy","policy","delay","badgeOutputBinding","OutputBinding","renderValue","renderError","clearError","outputBindings","progressHandlers","outlet","$outlet","$bar","content","replaceWith","append","tableInputBinding","JSON","stringify","table","tableOutputBinding","alertInputBinding","body","Alerts","$alert","onInputChange","push","appendTo","velocity","top","opacity","duration","easing","queue","setTimeout","item","shift","indeces","Object","entries","attrs","alert","includes","is","collapse","_render","dependencies","renderDependencies","container","initializeInputs","bindAll","_remove","unbindAll","log","modal","tooltip","popover","title","placement","filename","token","key","agent","window","navigator","userAgent","ie","ua","responseType","onload","saveAs","response","fetch","then","blob"],"mappings":"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"}