!function(e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var e=new Shiny.InputBinding;$.extend(e,{find:function(e){return e.querySelectorAll(".yonder-button-group[id]")},getType:function(){return"yonder.button.group"},initialize:function(n){$(n).on("click","button",function(e){n.setAttribute("data-value",e.currentTarget.value)})},getValue:function(e){var n=e.getAttribute("data-value");return void 0===n&&(n=null),{force:Date.now(),value:n}},subscribe:function(e,n){var t=$(e);t.on("click.yonder","button",function(e){return n()}),t.on("buttongroup.value.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.innerHTML=n.content),n.value&&e.setAttribute("data-value",n.value),n.enable&&e.querySelectorAll("button").forEach(function(e){(!0===n.enable||-1<n.enable.indexOf(e.value))&&(e.classList.remove("disabled"),e.removeAttribute("disabled"))}),n.disable&&e.querySelectorAll("button").forEach(function(e){(!0===n.disable||-1<n.disable.indexOf(e.value))&&(e.classList.add("disabled"),e.setAttribute("disabled",""))})}}),Shiny.inputBindings.register(e,"yonder.buttonGroupInput");var n=new Shiny.InputBinding;$.extend(n,{find:function(e){return e.querySelectorAll(".yonder-button[id]")},initialize:function(n){$(n).on("click",function(e){return n.value=+n.value+1}),n.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("button.value.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.innerHTML=n.content),null!==n.value&&void 0!==n.value&&(e.value=n.value,$(e).trigger("button.value.yonder")),n.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),n.disable&&(e.classList.add("disabled"),e.setAttribute("disabled","")),null!==n.tooltip&&(e.setAttribute("data-animation",n.tooltip.fade),e.setAttribute("data-html","true"),e.setAttribute("data-placement",n.tooltip.placement),e.setAttribute("data-toggle","tooltip"),e.setAttribute("title",n.tooltip.title),e.setAttribute("data-original-title",n.tooltip.title),$(e).tooltip(),e.matches(":hover")&&$(e).tooltip("show"))}}),Shiny.inputBindings.register(n,"yonder.buttonInput");var t=new Shiny.InputBinding;$.extend(t,{find:function(e){return e.querySelectorAll(".yonder-checkbar[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("change.yonder",function(e){return n()}),t.on("checkbar.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".btn").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(!0!==t.selected&&n.querySelectorAll("input:checked").forEach(function(e){e.checked=!1,e.parentNode.classList.remove("active")}),n.querySelectorAll("input").forEach(function(e){(!0===t.selected||-1<t.selected.indexOf(e.value))&&(e.checked=!0,e.parentNode.classList.add("active"))}),$(n).trigger("checkbar.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelectorAll(".btn").forEach(function(e){e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")}):n.querySelectorAll(".btn").forEach(function(e){-1<i.indexOf(e.value)&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll(".btn").forEach(function(e){e.classList.add("disabled"),e.children[0].setAttribute("disabled","")}):n.querySelectorAll(".btn").forEach(function(e){-1<r.indexOf(e.value)&&(e.classList.add("disabled"),e.children[0].setAttribute("disabled",""))})}}}),Shiny.inputBindings.register(t,"yonder.checkbarInput");var i=new Shiny.InputBinding;$.extend(i,{find:function(e){return e.querySelectorAll(".yonder-checkbox[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("change.yonder",function(e){return n()}),t.on("checkbox.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".custom-checkbox").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(n.querySelectorAll("input:checked").forEach(function(e){e.checked=!1}),n.querySelectorAll("input").forEach(function(e){(!0===t.selected||-1<t.selected.indexOf(e.value))&&(e.checked=!0)}),$(n).trigger("checkbox.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelectorAll("input").forEach(function(e){e.removeAttribute("disabled")}):n.querySelectorAll("input").forEach(function(e){-1<i.indexOf(e.value)&&e.removeAttribute("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll("input").forEach(function(e){e.setAttribute("disabled","")}):n.querySelectorAll("input").forEach(function(e){-1<r.indexOf(e.value)&&e.setAttribute("disabled","")})}t.valid&&(n.querySelector(".invalid-feedback").innerHTML="",n.querySelector(".valid-feedback").innerHTML=t.valid,n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-invalid"),e.classList.add("is-valid")})),t.invalid&&(n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".inavlid-feedback").innerHTML=t.invalid,n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-valid"),e.classList.add("is-invalid")})),t.valid||t.invalid||(n.querySelectorAll(".valid-feedback").forEach(function(e){return e.innerHTML=""}),n.querySelectorAll(".invalid-feedback").forEach(function(e){return e.innerHTML=""}),n.querySelectorAll("input").forEach(function(e){e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}}),Shiny.inputBindings.register(i,"yonder.checkboxInput");var l=new Shiny.InputBinding;$.extend(l,{selectorActive:".active",selectorToggle:"input[data-toggle='dropdown']",find:function(e){return e.querySelectorAll(".yonder-chip[id]")},initialize:function(t){var e=$(t),i=$(t.querySelector(l.selectorToggle));e.on("input",function(e){var n=i[0].value;l._filter(t,n),0===l._visible(t).length?i.dropdown("hide"):i.dropdown("show")}),e.on("input change",function(e){i.dropdown("update")}),e.on("hide.bs.dropdown",function(e){null===t.querySelector("input:focus")&&(t.querySelector("input").value="",l._filter(t,""))}),e.on("click",".dropdown-item",function(e){e.stopPropagation(),l._add(t,e.currentTarget.value),i[0].focus()}),e.on("click",".chip",function(e){l._remove(t,e.currentTarget.value)});var n=+t.getAttribute("data-max");-1!=n&&l._selected(t).length>=n&&l._disable(t)},getValue:function(e){var n=e.querySelectorAll(".active");return 0===n.length?null:Array.prototype.map.call(n,function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item,.chip",function(e){return n()}),t.on("chip.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,e){var t=$(n);if(e.items&&e.chips&&(n.querySelector(".dropdown-menu").innerHTML=e.items,n.querySelector(".chips").innerHTML=e.chips),e.selected&&(!0===e.selected?n.querySelectorAll(".dropdown-item").forEach(function(e){l._add(n,e.value)}):(e.selected.reverse(),l._selected(n).forEach(function(e){l._remove(n,e.value)}),e.selected.forEach(function(e){l._add(n,e)})),t.trigger("chip.select.yonder")),void 0!==e.max&&null!==e.max&&n.setAttribute("data-max",e.max),e.enable){var i=e.enable;!0===i?l._enable(n):n.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<i.indexOf(e.value)&&(e.removeAttribute("disabled"),e.classList.remove("disabled"))})}if(e.disable){var r=e.disable;!0===r?l._disable(n):n.querySelectorAll(".dropdown-item,.chip").forEach(function(e){-1<r.indexOf(e.value)&&(e.setAttribute("disabled",""),e.classList.add("disabled"))})}},_visible:function(e){return e.querySelectorAll(":not(.selected),:not(.filtered)")},_selected:function(e){return e.querySelectorAll(".selected")},_items:function(e,n){return Array.prototype.filter.call(e.querySelectorAll(".dropdown-item"),function(e){return e.value===n})},_chips:function(e,n){return Array.prototype.filter.call(e.querySelectorAll(".chip"),function(e){return e.value===n})},_enable:function(e){var n=e.querySelector("input");n.removeAttribute("disabled"),n.classList.remove("disabled")},_disable:function(e){var n=e.querySelector("input");n.setAttribute("disabled",""),n.classList.add("disabled")},_filter:function(e,n){n=n.toLowerCase(),e.querySelectorAll(".dropdown-item").forEach(function(e){-1!==e.innerText.toLowerCase().indexOf(n)?e.classList.remove("filtered"):e.classList.add("filtered")})},_add:function(e,n){var t=$(e.querySelector(l.selectorToggle)),i=e.getAttribute("data-sort");l._items(e,n).forEach(function(e){e.classList.add("selected")});var r=e.querySelector(".chips");l._chips(e,n).forEach(function(e){"stack"===i?r.insertBefore(r.removeChild(e),r.firstChild):"queue"===i&&r.appendChild(r.removeChild(e)),e.classList.add("active")}),0===l._visible(e).length&&t.dropdown("hide");var o=+e.getAttribute("data-max");-1==o||l._selected(e).length<o?t.dropdown("update"):(t.dropdown("hide"),l._disable(e))},_remove:function(e,n){var t=+e.getAttribute("data-max");l._chips(e,n).forEach(function(e){e.classList.remove("active")}),l._items(e,n).forEach(function(e){e.classList.remove("selected")}),(-1==t||l._selected(e).length<t)&&l._enable(e)}}),Shiny.inputBindings.register(l,"yonder.chipInput");var r=new Shiny.InputBinding;$.extend(r,{find:function(e){return e.querySelectorAll(".yonder-file[id]")},initialize:function(n){var e=$(n);e.on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),e.on("dragcenter",function(e){e.stopPropagation(),e.preventDefault()}),e.on("drop",function(e){e.stopPropagation(),e.preventDefault(),r._upload(n,e.originalEvent.dataTransfer.files)}),e.on("change",function(e){r._upload(n)})},getValue:function(){return null},receiveMessage:function(e,n){var t=e.querySelector("input");n.enable&&t.removeAttribute("disabled"),n.disable&&t.setAttribute("disabled",""),n.valid&&(e.querySelector(".valid-feedback").innerHTML=n.valid,t.classList.add("is-valid")),n.invalid&&(e.querySelector(".invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-invalid")),n.valid||n.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",t.classList.remove("is-valid"),t.classList.remove("is-invalid"))},_post:function(e,n,t,i,r){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/octet-stream"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status&&i&&Shiny.shinyapp.makeRequest("uploadEnd",[n,r.id],function(e){r.querySelector("input[type='file']").value=""},function(e){console.error("uploadEnd request failed for "+r.id+": "+e)})},o.send(t)},_upload:function(r,o){var l=this,e=r.querySelector("input[type='file']");if(void 0===o&&(o=e.files),o){var n=(o=e.hasAttribute("multiple")?Array.prototype.slice.call(o):Array.prototype.slice.call(o,0,1)).map(function(e){return{name:e.name,size:e.size,type:e.type}});Shiny.shinyapp.makeRequest("uploadInit",[n],function(e){for(var n=e.jobId,t=e.uploadUrl,i=0;i<o.length;i++)l._post(t,n,o[i],i===o.length-1,r)},function(e){console.error("uploadInit request failed for "+r.id+": "+e)})}}}),document.addEventListener("DOMContentLoaded",function(){bsCustomFileInput.init(".yonder-file[id] input[type='file']")}),Shiny.inputBindings.register(r,"yonder.fileInput");var o=new Shiny.InputBinding;$.extend(o,{find:function(e){return e.querySelectorAll(".yonder-form[id]")},initialize:function(n){var e=$(document),t=$(n),i={},r=null;n.querySelectorAll(".yonder-form-submit").forEach(function(e){e.setAttribute("type","submit")}),e.on("shiny:inputchanged.yonder",function(e){if(e.el&&"event"!==e.priority)return e.el.id===n.id?(Shiny.onInputChange(n.id,r,{priority:"event"}),void e.preventDefault()):void(n.contains(e.el)&&(i[e.name]=e.value,e.preventDefault()))}),t.on("click.yonder",".yonder-form-submit",function(e){r=e.currentTarget.value}),t.on("submit.yonder",function(e,n){e.preventDefault(),void 0!==n&&(r=n),Object.keys(i).forEach(function(e){Shiny.onInputChange(e,i[e],{priority:"event"})})})},getValue:function(){return null},subscribe:function(e,n){$(e).on("submit.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder"),$(document).off("shiny:inputchanged.yonder")},receiveMessage:function(e,n){void 0!==n.submit&&null!==n.submit&&$(e).trigger("submit.yonder",n.submit)}}),Shiny.inputBindings.register(o,"yonder.formInput");var a=new Shiny.InputBinding;$.extend(a,{find:function(e){return e.querySelectorAll(".yonder-link[id]")},initialize:function(n){$(n).on("click",function(e){return n.value=+n.value+1}),n.value=0},getValue:function(e){return 0<+e.value?+e.value:null},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("link.value.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.innerHTML=n.content),null!==n.value&&void 0!==n.value&&(e.value=n.value,$(e).trigger("link.value.yonder")),n.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),n.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(a,"yonder.linkInput");var c=new Shiny.InputBinding;$.extend(c,{find:function(e){return e.querySelectorAll(".yonder-list-group[id]")},initialize:function(n){var e=$(n);e.on("click",".list-group-item-action:not(.active):not(.disabled)",function(e){n.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".list-group-item-action.active:not(.disabled)",function(e){e.currentTarget.classList.remove("active")})},getValue:function(e){var n=e.querySelectorAll(".list-group-item-action.active:not(.disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("listgroup.select.yonder",function(e){return n()})},unsubcribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".list-group-item").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(!0!==t.selected&&n.querySelectorAll(".list-group-item.active").forEach(function(e){e.classList.remove("active")}),n.querySelectorAll(".list-group-item").forEach(function(e){(!0===t.selected||-1<t.selected.indexOf(e.value))&&e.classList.add("active")}),$(n).trigger("listgroup.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelectorAll(".list-group-item").forEach(function(e){e.classList.remove("disabled")}):n.querySelectorAll(".list-group-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.remove("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll(".list-group-item").forEach(function(e){e.classList.add("disabled")}):n.querySelectorAll(".list-group-item").forEach(function(e){-1<r.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(c,"yonder.listGroupInput");var u=new Shiny.InputBinding;$.extend(u,{find:function(e){return e.querySelectorAll(".yonder-menu[id]")},initialize:function(t){var e=$(t);e.on("click",".dropdown-item:not(.disabled)",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&n.classList.remove("active"),e.currentTarget.classList.add("active")}),e.on("nav.reset",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&n.classList.remove("active")})},getValue:function(e){var n=e.querySelector(".dropdown-item.active:not(.disabled)");return null===n?null:n.value},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("menu.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){n.content&&(e.querySelector(".dropdown-menu").innerHTML=n.content),n.label&&(e.querySelector(".dropdown-toggle").innerHTML=n.label);if(n.selected&&(e.querySelectorAll(".dropdown-item").forEach(function(e){-1<n.selected.indexOf(e.value)?e.classList.add("active"):e.classList.remove("active")}),$(e).trigger("menu.select.yonder")),n.enable){var t=n.enable;!0===t?e.querySelector(".dropdown-toggle").classList.remove("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<t.indexOf(e.value)&&e.classList.remove("disabled")})}if(n.disable){var i=n.disable;!0===i?e.querySelector(".dropdown-toggle").classList.add("disabled"):e.querySelectorAll(".dropdown-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(u,"yonder.menuInput");var d=new Shiny.InputBinding;$.extend(d,{find:function(e){return e.querySelectorAll(".yonder-nav[id]")},initialize:function(t){var e=$(t);e.on("click",".nav-link:not(.dropdown-toggle):not(.disabled)",function(e){var n=t.querySelector(".dropdown-item.active");null!==n&&$(n.parentNode.parentNode).trigger("nav.reset"),t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.classList.add("active")}),e.on("click",".dropdown-item:not(.disabled)",function(e){t.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),e.currentTarget.parentNode.parentNode.children[0].classList.add("active"),e.currentTarget.classList.add("active")})},getValue:function(e){var n=e.querySelector(".nav-link.active:not(.disabled)");return null===n?null:n.value},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item",function(e){return n()}),t.on("click.yonder",".nav-link:not(.dropdown-toggle)",function(e){return n()}),t.on("nav.select.yonder",function(e){return n()})},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".nav-item").forEach(function(e){return n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(n.querySelectorAll(".nav-link").forEach(function(e){-1<t.selected.indexOf(e.value)?e.classList.add("active"):e.classList.remove("active")}),$(n).trigger("nav.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelectorAll(".nav-link").forEach(function(e){e.classList.remove("disabled")}):n.querySelectorAll(".nav-link").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.remove("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll(".nav-link").forEach(function(e){e.classList.add("disabled")}):n.querySelectorAll(".nav-link").forEach(function(e){-1<r.indexOf(e.value)&&e.classList.add("disabled")})}}}),Shiny.inputBindings.register(d,"yonder.navInput"),Shiny.addCustomMessageHandler("yonder:pane",function(e){if(void 0!==e.type&&void 0!==e.data&&void 0!==e.data.target){var n=document.getElementById(e.data.target);null!==n&&("show"===e.type?function(t){if(null!==t&&!t.classList.contains("show"))if(t.parentElement.classList.contains("tab-content")){var i=t.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(t,t.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:t}),n=$.Event("shown.bs.tab",{relatedTarget:i});$(i).trigger(e),$(t).trigger(n)})}else console.warn("nav pane "+t.id+" is missing a nav content parent element")}(n):"hide"===e.type&&function(n){if(null!==n&&n.classList.contains("show"))if(n.parentElement.classList.contains("tab-content")){var e=document.createElement("div");bootstrap.Tab.prototype._activate(e,n.parentElement,function(){var e=$.Event("hidden.bs.tab",{relatedTarget:n});$(n).trigger(e)})}else console.warn("nav pane "+n.id+" is missing a nav content parent element")}(n))}});var s=new Shiny.InputBinding;$.extend(s,{find:function(e){return e.querySelectorAll(".yonder-radio[id]")},getValue:function(e){var n=e.querySelectorAll(".custom-radio > input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("change.yonder",function(e){return n()}),t.on("radio.select.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(n,t){if(t.content&&(n.querySelectorAll(".custom-radio").forEach(function(e){n.removeChild(e)}),n.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(n.querySelectorAll("input").forEach(function(e){-1<t.selected.indexOf(e.value)?e.checked=!0:e.checked=!1}),$(n).trigger("radio.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelectorAll(".custom-radio > input").forEach(function(e){e.removeAttribute("disabled")}):n.querySelectorAll(".custom-radio > input").forEach(function(e){-1<i.indexOf(e.value)&&e.removeAttribute("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelectorAll(".custom-radio > input").forEach(function(e){e.setAttribute("disabled","")}):n.querySelectorAll(".custom-radio > input").forEach(function(e){-1<r.indexOf(e.value)&&e.setAttribute("disabled","")})}t.valid&&(n.querySelector(".valid-feedback").innerHTML=t.valid,n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.add("is-valid")})),t.invalid&&(n.querySelector(".invalid-feedback").innerHTML=t.invalid,n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.add("is-invalid")})),t.valid||t.invalid||(n.querySelectorAll(".valid-feedback").forEach(function(e){return e.innerHTML=""}),n.querySelectorAll(".invalid-feedback").forEach(function(e){return e.innerHTML=""}),n.querySelectorAll(".custom-control-input").forEach(function(e){e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}}),Shiny.inputBindings.register(s,"yonder.radioInput");var f=new Shiny.InputBinding;$.extend(f,{Selector:{SELF:".yonder-radiobar[id]",SELECTED:"input:checked:not(:disabled)"},Events:[{type:"click"},{type:"change"}],find:function(e){return e.querySelectorAll(".yonder-radiobar[id]")},getValue:function(e){var n=e.querySelectorAll("input:checked:not(:disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",function(e){return n()}),t.on("change.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(e,n){if(n.content&&(e.innerHTML=n.content),n.selected&&(e.querySelectorAll("input").forEach(function(e){-1<n.selected.indexOf(e.value)?(e.checked=!0,e.parentNode.classList.add("active")):(e.checked=!1,e.parentNode.classList.remove("active"))}),$(e).trigger("radiobar.select.yonder")),n.enable){var t=n.enable;!0===t?e.querySelectorAll(".btn").forEach(function(e){e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")}):e.querySelectorAll("input").forEach(function(e){-1<t.indexOf(e.value)&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))})}if(n.disable){var i=n.disable;!0===i?e.querySelectorAll(".btn").forEach(function(e){e.classList.add("disabled"),e.children[0].setAttribute("disabled","")}):e.querySelectorAll("input").forEach(function(e){-1<i.indexOf(e.value)&&(e.parentNode.classList.add("disabled"),e.setAttribute("disabled",""))})}}}),Shiny.inputBindings.register(f,"yonder.radiobarInput");var v=new Shiny.InputBinding;$.extend(v,{find:function(e){return e.querySelectorAll(".yonder-range[id]")},getId:function(e){return e.id},getValue:function(e){return+e.children[0].value},subscribe:function(e,n){var t=$(e);t.on("input.yonder",n(!0)),t.on("range.value.yonder")},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){var t=e.children[0];n.value&&(t.value=n.value),n.enable&&t.removeAttribute("disabled"),n.disable&&t.setAttribute("disabled","")}}),Shiny.inputBindings.register(v,"yonder.rangeInput");var y=new Shiny.InputBinding;$.extend(y,{find:function(e){return e.querySelectorAll(".yonder-select[id]")},initialize:function(t){var i=$(t);i.on("click",".dropdown-item",function(e){i[0].querySelector("input").placeholder=e.currentTarget.innerText;var n=i[0].querySelector(".active");n&&n.classList.remove("active"),e.currentTarget.classList.add("active")});var r=$(t.querySelector("input"));i.on("input change","input",function(e){var n=r[0].value.toLowerCase();t.querySelectorAll(".dropdown-item").forEach(function(e){-1===e.innerText.toLowerCase().indexOf(n)?e.classList.add("filtered"):e.classList.remove("filtered")}),r.dropdown("update")}),i.on("hide.bs.dropdown",function(e){r[0].value="",t.querySelectorAll(".filtered").forEach(function(e){e.classList.remove("filtered")})})},getValue:function(e){var n=e.querySelectorAll(".dropdown-item.active:not(.disabled)");return 0===n.length?null:Array.prototype.slice.call(n).map(function(e){return e.value})},subscribe:function(e,n){var t=$(e);t.on("click.yonder",".dropdown-item",function(e){return n()}),t.on("select.select.yonder",function(e){return n()})},unsubscribe:function(e){$(e).off(".yonder")},receiveMessage:function(n,t){if(t.content){n.querySelector(".dropdown-menu").innerHTML=t.content;var e=n.querySelector("input");e.placeholder=e.getAttribute("data-original-placeholder")||""}if(t.selected&&(n.querySelectorAll(".dropdown-item").forEach(function(e){!0===t.selected||-1<t.selected.indexOf(e.value)?(e.classList.add("active"),n.querySelector("input").placeholder=e.innerText):e.classList.remove("active")}),$(n).trigger("select.select.yonder")),t.enable){var i=t.enable;!0===i?n.querySelector("input").removeAttribute("disabled"):n.querySelectorAll(".dropdown-item").forEach(function(e){-1<i.indexOf(e.value)&&e.classList.remove("disabled")})}if(t.disable){var r=t.disable;!0===r?n.querySelector("input").setAttribute("disabled",""):n.querySelectorAll(".dropdown-item").forEach(function(e){-1<r.indexOf(e.value)&&e.classList.add("disabled")})}if(t.valid&&(n.querySelector("input").classList.add("is-valid"),n.querySelector(".valid-feedback").innerHTML=t.valid),t.invalid&&(n.querySelector("input").classList.add("is-invalid"),n.querySelector(".invalid-feedback").innerHTML=t.invalid),!t.valid&&!t.invalid){var o=n.querySelector("input");o.classList.remove("is-valid"),o.classList.remove("is-invalid"),n.querySelector(".valid-feedback").innerHTML="",n.querySelector(".invalid-feedback").innerHTML=""}}}),Shiny.inputBindings.register(y,"yonder.selectInput");var p=new Shiny.InputBinding;$.extend(p,{find:function(e){return e.querySelectorAll(".yonder-group-select[id]")},getValue:function(e){var n=e.querySelectorAll(".input-group-prepend .input-group-text, select, .input-group-append .input-group-text");return Array.prototype.slice.call(n).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group.select"},subscribe:function(e,n){var t=$(e);0<e.querySelectorAll(".btn").length?t.on("click",".dropdown-item",function(e){return n()}):(t.on("change",function(e){return n()}),t.on("groupselect.select.yonder",function(e){return n()}))},receiveMessage:function(e,n){var t=e.querySelector("input[data-toggle='dropdown']");n.content&&(t.innerHTML=n.content),n.selected&&(t.querySelectorAll("option").forEach(function(e){-1<n.selected.indexOf(e.value)?e.setAttribute("selected",""):e.removeAttribute("selected")}),$(e).trigger("groupselect.select.yonder")),n.enable&&(!0===n.enable?t.removeAttribute("disabled"):t.querySelectorAll("option").forEach(function(e){e.removeAttribute("disabled")}));n.disable&&(n.disable?t.setAttribute("disabled",""):t.querySelectorAll("option").forEach(function(e){e.setAttribute("disabled","")}));n.valid&&(e.querySelector("valid-feedback").innerHTML=n.valid,t.classList.remove("is-invalid"),t.classList.add("is-valid")),n.invalid&&(e.querySelector("invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-valid"),t.classList.add("is-invalid")),n.valid||n.invalid||(t.classList.remove("is-valid"),t.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(p,"yonder.groupSelectInputBinding");var b=new Shiny.InputBinding;$.extend(b,{find:function(e){return e.querySelectorAll(".yonder-textual[id]")},getValue:function(e){var n=e.children[0];return""===n.value?null:"number"===n.type?Number(n.value):n.value},subscribe:function(e,n){var t=$(e);t.on("change.yonder",function(e){return n(!0)}),t.on("input.yonder",function(e){return n(!0)}),t.on("textual.value.yonder",function(e){return n(!0)})},unsubscribe:function(e){return $(e).off(".yonder")},getRatePolicy:function(){return{policy:"debounce",delay:250}},receiveMessage:function(e,n){null!==n.value&&(e.querySelector("input").value=n.value,$(e).trigger("textual.value.yonder")),n.enable&&e.children[0].removeAttribute("disabled"),n.disable&&e.children[0].setAttribute("disabled","");var t=e.querySelector("input");n.valid&&(e.querySelector(".valid-feedback").innerHTML=n.valid,t.classList.remove("is-invalid"),t.classList.add("is-valid")),n.invalid&&(e.querySelector(".invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-valid"),t.classList.add("is-invalid")),n.valid||n.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",t.classList.remove("is-valid"),t.classList.remove("is-invalid"))}}),Shiny.inputBindings.register(b,"yonder.textualInput");var g=new Shiny.InputBinding;$.extend(g,{find:function(e){return e.querySelectorAll(".yonder-group-text[id]")},getValue:function(e){var n=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(n).map(function(e){return/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null}).filter(function(e){return null!==e})},getType:function(){return"yonder.group.text"},getRatePolicy:function(){return{policy:"debounce",delay:250}},subscribe:function(e,n){var t=$(e);0<e.querySelectorAll(".btn").length?(t.on("click.yonder",".dropdown-item",function(e){return n()}),t.on("click.yonder",".btn:not(.dropdown-toggle",function(e){return n()})):(t.on("input.yonder",function(e){return n(!0)}),t.on("change.yonder",function(e){return n(!0)}),t.on("textual.value.yonder",function(e){return n()}))},unsubscribe:function(e){return $(e).off(".yonder")},receiveMessage:function(e,n){var t=e.querySelector("input");n.value&&(t.value=n.value,$(e).trigger("textual.value.yonder")),n.enable&&t.removeAttribute("disabled"),n.disable&&t.setAttribute("disabled",""),n.valid&&(e.querySelector("valid-feedback").innerHTML=n.valid,t.classList.remove("is-invalid"),t.classList.add("is-valid")),n.invalid&&(e.querySelector("invalid-feedback").innerHTML=n.invalid,t.classList.remove("is-valid"),t.classList.add("is-invalid")),n.valid||n.invalid||(t.classList.remove("is-valid"),t.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(g,"yonder.groupTextInput"),Shiny.addCustomMessageHandler("yonder:collapse",function(e){if(void 0===e.type||void 0===e.data||void 0===e.data.target)return!1;if("show"!==e.type&&"hide"!==e.type&&"toggle"!==e.type)return!1;var n=document.getElementById(e.data.target);return null!==n&&($(n).collapse(e.type),!0)}),Shiny.addCustomMessageHandler("yonder:download",function(n){if(!(n.filename&&n.token&&n.key))throw"invalid download event";var e="/session/"+n.token+"/download/"+n.key,t=window.navigator.userAgent;if(!0===/MSIE/.test(t)){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){return saveAs(i.response,n.filename)},i.send()}else fetch(e).then(function(e){return e.blob()}).then(function(e){saveAs(e,n.filename)})}),Shiny.addCustomMessageHandler("yonder:content",function(e){e.type&&("replace"===e.type?function(n){if(n.id){var t=document.getElementById(n.id);t&&(n.dependencies&&Shiny.renderDependencies(n.dependencies),n.content&&(Shiny.unbindAll(t),t.innerHTML=n.content,Shiny.initializeInputs(t),Shiny.bindAll(t)),n.attrs&&Object.keys(n.attrs).forEach(function(e){t.setAttribute(e,n.attrs[e])}))}}(e.data):"remove"===e.type?function(e){if(e.id){var n=document.getElementById(e.id);n&&(Shiny.unbindAll(n),n.innerHTML="")}}(e.data):console.warn('no content "'+e.type+'" method'))}),$(function(){document.body.insertAdjacentHTML("beforeend","<div class='yonder-modals'></div>")}),Shiny.addCustomMessageHandler("yonder:modal",function(e){if(void 0===e.type)return!1;var n,t;"close"===e.type?(n=e.data,0!==(t=document.querySelector(".yonder-modals").childNodes).length&&(n.id&&(t=Array.prototype.filter.call(t,function(e){return e.id===n.id})),t.forEach(function(e){e.classList.contains("yonder-modal")&&$(e).modal("hide")}))):"show"===e.type?function(e){if(e.id){var n=document.getElementById(e.id);if(n&&n.classList.contains("yonder-modal"))return console.warn("ignoring modal with duplicate id")}e.dependencies&&Shiny.renderDependencies(e.dependencies);var t=document.querySelector(".yonder-modals");t.insertAdjacentHTML("beforeend",e.content);var i=t.querySelector(".yonder-modal:last-child");Shiny.initializeInputs(i),Shiny.bindAll(i),$(i).one("hidden.bs.modal",function(e){i.id&&(Shiny.onInputChange(i.id,!0),setTimeout(function(){return Shiny.onInputChange(i.id,null)},100)),Shiny.unbindAll(i),t.removeChild(i)}),$(i).modal("show")}(e.data):console.warn("no modal "+e.type+" method")}),Shiny.addCustomMessageHandler("yonder:popover",function(e){if(e.data.id&&document.getElementById(e.data.id)){var n,t,i,r;"show"===e.type?(i=e.data,(r=$(document.getElementById(i.id))).popover({content:function(){},placement:i.placement,template:i.content,title:function(){},trigger:"manual"}),i.duration&&setTimeout(function(){return r.popover("hide")},i.duration),r.popover("show")):"close"===e.type?(n=e.data,(t=document.getElementById(n.id))&&$(t).popover("hide")):console.warn('no "'+e.type+'" popover method')}}),$(function(){document.body.insertAdjacentHTML("beforeend","<div class='yonder-toasts'></div>"),$(".yonder-toasts").on("hidden.bs.toast",".toast",function(e){if(e.currentTarget.hasAttribute("data-action")){var n=e.currentTarget.getAttribute("data-action");Shiny.onInputChange(n,!0),setTimeout(function(){return Shiny.onInputChange(n,null)},100)}e.delegateTarget.removeChild(e.currentTarget)})}),Shiny.addCustomMessageHandler("yonder:toast",function(e){var n,t;e.type&&("show"===e.type?(t=e.data,document.querySelector(".yonder-toasts").insertAdjacentHTML("beforeend",t.content),$(".yonder-toasts > .toast:last-child").toast("show")):"close"===e.type?(e.data,(n=document.querySelectorAll(".yonder-toasts .toast")).length&&$(n).toast("hide")):console.warn("no toast "+e.type+" method"))}),$(function(){return $('[data-toggle="tooltip"]').tooltip()})});